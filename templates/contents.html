<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>{{ app_title }} - Contents</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
  <header class="topbar">
    <div class="wrap">
      <div class="brand">{{ app_title }}</div>
      <nav class="nav">
        <a class="navlink" href="/">Dashboard</a>
        <a class="navlink active" href="/contents">Contents</a>
      </nav>
    </div>
  </header>

  <main class="wrap">
    <section class="panel">
      <h2>콘텐츠 목록</h2>

      <form class="filters" method="get" action="/contents">
        <input class="input" name="q" value="{{ q }}" placeholder="제목 검색 (예: 저당, 조회수, 샤오홍슈)" />

        <select class="select" name="platform">
          <option value="">플랫폼(전체)</option>
          {% for p in platforms %}
            <option value="{{ p['name'] }}" {% if platform==p['name'] %}selected{% endif %}>
              {{ p['name'] }}
            </option>
          {% endfor %}
        </select>

        <select class="select" name="uploaded">
          <option value="">업로드(전체)</option>
          <option value="1" {% if uploaded=='1' %}selected{% endif %}>업로드 됨</option>
          <option value="0" {% if uploaded=='0' %}selected{% endif %}>업로드 안 됨</option>
        </select>

        <select class="select" name="sponsored">
          <option value="">협찬(전체)</option>
          <option value="1" {% if sponsored=='1' %}selected{% endif %}>협찬</option>
          <option value="0" {% if sponsored=='0' %}selected{% endif %}>비협찬</option>
        </select>

        <button class="btn" type="submit">필터 적용</button>
        <a class="btn ghost" href="/contents">초기화</a>
      </form>



      <table class="table">
        <thead>
          <tr>
            <th>ID</th>
            <th>제목</th>
            <th>기획</th>
            <th>기획일</th>
            <th>협찬</th>
            <th>업로드된 플랫폼</th>
            <th>키워드</th>
          </tr>
        </thead>
        <tbody>
          {% for r in rows %}
          <tr>
            <td class="mono">{{ r["content_id"] }}</td>
            <td>{{ r["title"] }}</td>
            <td>{{ "완료" if r["plan_done"]==1 else "미완료" }}</td>
            <td class="mono">{{ r["plan_date"] or "-" }}</td>
            <td>{{ "협찬" if r["sponsored"]==1 else "-" }}</td>
            <td>{{ r["uploaded_platforms"] }}</td>
            <td>{{ r["keywords"] }}</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </section>
  </main>
</body>
</html>













<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>{{ app_title }} - Contents</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
  <header class="topbar">
    <div class="wrap">
      <div class="brand">{{ app_title }}</div>
      <nav class="nav">
        <a class="navlink" href="/">Dashboard</a>
        <a class="navlink active" href="/contents">Contents</a>
      </nav>
    </div>
  </header>

  <main class="wrap">
    <section class="panel">
      <h2>콘텐츠 목록</h2>

      <form class="filters" method="get" action="/contents">
        <input class="input" name="q" value="{{ q }}" placeholder="제목 검색 (예: 저당, 조회수, 샤오홍슈)" />

        <select class="select" name="platform">
          <option value="">플랫폼(전체)</option>
          {% for p in platforms %}
            <option value="{{ p['name'] }}" {% if platform==p['name'] %}selected{% endif %}>
              {{ p['name'] }}
            </option>
          {% endfor %}
        </select>

        <select class="select" name="uploaded">
          <option value="">업로드(전체)</option>
          <option value="1" {% if uploaded=='1' %}selected{% endif %}>업로드 됨</option>
          <option value="0" {% if uploaded=='0' %}selected{% endif %}>업로드 안 됨</option>
        </select>

        <select class="select" name="sponsored">
          <option value="">협찬(전체)</option>
          <option value="1" {% if sponsored=='1' %}selected{% endif %}>협찬</option>
          <option value="0" {% if sponsored=='0' %}selected{% endif %}>비협찬</option>
        </select>

        <button class="btn" type="submit">필터 적용</button>
        <a class="btn ghost" href="/contents">초기화</a>
      </form>



      <table class="table">
        <thead>
          <tr>
            <th>ID</th>
            <th>제목</th>
            <th>기획</th>
            <th>기획일</th>
            <th>협찬</th>
            <th>업로드된 플랫폼</th>
            <th>키워드</th>
          </tr>
        </thead>
        <tbody>
          {% for r in rows %}
          <tr>
            <td class="mono">{{ r["content_id"] }}</td>
            <td>{{ r["title"] }}</td>
            <td>{{ "완료" if r["plan_done"]==1 else "미완료" }}</td>
            <td class="mono">{{ r["plan_date"] or "-" }}</td>
            <td>{{ "협찬" if r["sponsored"]==1 else "-" }}</td>
            <td>{{ r["uploaded_platforms"] }}</td>
            <td>{{ r["keywords"] }}</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </section>
  </main>
</body>
</html>






















